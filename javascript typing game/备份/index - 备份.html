<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<link href="style.css" rel="stylesheet" type="text/css" />
<script src="js/myAnimate.js" type="text/javascript"></script>
<script src="js/Myfunction.js" type="text/javascript"></script>
<script src="js/bomanim.js" type="text/javascript"></script>
<script type="text/javascript">
	window.onload=function () {
		//获得id对象函数
		function getId (obj) {
			return document.getElementById(obj);
		} 
		//获得浏览器高度
		var BomHeight=document.documentElement.clientHeight;
		//获得id=main对象 (整个页面背景)
		var main = getId("main");
		//获得id=out对象 (所有元素的载体)
		var out = getId("out");
		//获得top_yun对象 (云彩)
		var top_yun = getId("top_yun");
		//获得anim对象 (字母载体)
		var anim = getId("anim");

		//获得Jfen积分对象
		var Jfen = getId("Jfen");
		var Integral = getClass("left",Jfen)[0].getElementsByTagName("span")[0];
		var Health = getClass("right",Jfen)[0].getElementsByTagName("span")[0];
		//Integral.innerHTML=9999
		//Health.innerHTML=888

		//获得Bjing对象
		var Bjing = getId("Bjing");
		
//**************************************************************************************************
		//获得popup对象
		var popup = getId("popup");
		//popup对象根据浏览器高度弹出的高度
		var popup_top = 706-(BomHeight-220)

		//欢迎动画
		var start=getId("start");
		var start_bu=getClass("start_bu",start)[0];

		//游戏失败 重新开始
		var restart=getId("restart");
		var restart_bu=getClass("restart_bu",restart)[0];

		//闯关成功 进入下一关
		var victory=getId("victory");
		var victory_bu=getClass("victory_bu",victory)[0];

		//游戏设置 继续游戏
		var goon=getId("goon");
		var goon_bu=getClass("goon_bu",goon)[0];
		/*获取游戏设置参数*/
		var myform=document.myform;
		var opt_num=myform.num2;
		var opt_sd=myform.sudu;
		//兼容IE获取 初始数量
		function onCS(obj,val) {
			if(document.all){
				for (var i=0; i<obj.length; i++) {
					(function (i) {
						obj[i].onfocus=function  () {
							val.innerHTML=(obj[i].value)
						}
					})(i)
				}
			}else{
				for (var i=0; i<obj.length; i++) {
					(function (i) {
						obj[i].onchange=function  () {
							val.innerHTML=(obj[i].value)
						}
					})(i)
				}				
			}
		}

onCS(opt_num,Health)
onCS(opt_sd,Integral)

Integral.innerHTML=(opt_sd[0].value)	
Health.innerHTML=(opt_num[0].value)

//**************************************************************************************************
		//根据浏览器的高度给main设置高度
		main.style.height=BomHeight+"px";
		//根据浏览器的高度给out设置高度
		out.style.height=BomHeight+"px";
		//根据浏览器的高度给anim设置高度
		anim.style.height=(BomHeight-128)+"px";
		popup.style.height=(BomHeight-128)+"px";
//**************************************************************************************************

		//让云彩动起来
		myflash(top_yun,"left",60,2);

		//欢迎动画**********************************************************************************
		function welcome() {
			myAnimate(start,{top:-popup_top},1300,Tween.Back.easeOut)
		}
		start_bu.onclick=function () {
			var start_top = getClass("start_top",start)[0];
			var font = start_top.getElementsByTagName("span")[0];
			font.style.display="block";
			start_top.innerHTML="<img class='cba' src='images/123.gif' width='110' height='132' border='0' />"
			setTimeout("myAnimate(start,{top:-706},1000,Tween.Back.easeInOut)",3000)
		}		
//		welcome()
		
		//闯关成功 进入下一关************************************************************************
		var music_on = getId("music_on");
		function victory_fun() {
			myAnimate(victory,{top:-popup_top},1300,Tween.Back.easeOut)
		}
		victory_bu.onclick=function () {
			myAnimate(victory,{top:-706},1000,Tween.Back.easeInOut)
		}

        //游戏失败 重新开始**************************************************************************
		function restart_fun() {
			myAnimate(restart,{top:-popup_top},1300,Tween.Back.easeOut)
		}
		restart_bu.onclick=function () {
			myAnimate(restart,{top:-706},1000,Tween.Back.easeInOut)
		}

		//游戏设置 继续游戏
		Bjing.onclick=function () {
			myAnimate(goon,{top:-popup_top},1300,Tween.Back.easeOut)
		}
		goon_bu.onclick=function () {
			myAnimate(goon,{top:-706},1000,Tween.Back.easeInOut)
		}
		//声音控制***********************************************************************************
//		var explorer = window.navigator.userAgent ;
//		if(!document.all && explorer.indexOf("Firefox") < 0){
//			//创建声音控件
//			var mp3 = document.createElement("audio");
//			mp3.src="music/music_bg.mp3"
//			var music_on = getId("music_on");
//			var music_off = getId("music_off");
//			music_on.onclick=function () {
//				music_on.style.zIndex="92"
//				music_off.style.zIndex="93"
//				//alert(1);
//				mp3.pause();
//			}
//			music_off.onclick=function () {
//				music_on.style.zIndex="93"
//				music_off.style.zIndex="92"
//				//alert(2)
//				mp3.load;
//				mp3.play();
//
//			}
//			//mp3.play();
//		}
//		
		















	}
</script>
</head>

<body>
<div id="main">
  <div id ="out">
    <div id="top_yun"><img src="images/yun.png" width="947" height="95" border="0" /></div>
	<div id="popup">
	  <!--欢迎动画-->
	  <div id="start">
	  	<div class="start_top">
		  <span><img src="images/start_font.jpg" width="319" height="137" border="0" /></span>
		</div>
	    <div class="start_bu"></div>
	  </div>
	  <!--游戏失败 重新开始-->
	  <div id="restart">
	  	<div class="start_top">
		  <div class="gif"><img src="images/10.gif" width="90" height="90" border="0" /></div>
		  <div class="centent"><img src="images/Sbai.jpg" width="247" height="71" border="0" /></div>
		</div>
	    <div class="restart_bu"></div>
	  </div>
	  <!--闯关成功 进入下一关-->
	  <div id="victory">
	  	<div class="victory_top">
		  <div class="gif"><img src="images/11.gif" width="90" height="90" border="0" /></div>
		  <div class="centent"><img src="images/victory.jpg" width="247" height="71" border="0" /></div>
		</div>
	    <div class="victory_bu"></div>
	  </div>
	   <!--游戏设置 继续游戏-->
	  <div id="goon">
	  	<div class="goon_top">
		  <div class="gif"><img src="images/options.jpg" width="153" height="42" border="0" /></div>
		  <div class="centent">
		    <form action="" method="get" name="myform">
			<table width="400" border="0" cellspacing="0" cellpadding="0">
 			  <tr>
    			<td width="110">初始数量：</td>
    			<td align="left"><input class="input" name="num2" type="radio" value="2"  />2&nbsp;&nbsp;<input class="input" name="num2" type="radio" value="4" />4&nbsp;&nbsp;<input class="input" name="num2" type="radio" value="6" />6&nbsp;&nbsp;<input class="input" name="num2" type="radio" value="8" />8</td>
  			  </tr>
  			  <tr>
    			<td width="110">初始速度：</td>
    			<td align="left" style="font-size:14px"><input class="input" name="sudu" type="radio" value="5" checked="true" />慢&nbsp;&nbsp;<input class="input" name="sudu" type="radio" value="10" />较慢&nbsp;&nbsp;<input class="input" name="sudu" type="radio" value="15" />快&nbsp;&nbsp;<input class="input" name="sudu" type="radio" value="20" />较快</td>
  			  </tr>
			</table>
			</form>
		  </div>
		</div>
	      <div class="goon_bu"></div>
	    </div>	  
  	</div>
			   
	<!--字母载体-->
	<div id="anim"></div>
	<!--显示积分-->
	<div id="Jfen">
	  <div class="left"><span>00000</span></div>
	  <div class="right"><span>1000</span></div>
	</div>
	<!--声音按钮-->
	<div id="music">
	  <div id="music_on"><img src="images/sound.png" width="40" height="40" border="0" /></div>
	  <div id="music_off"><img src="images/soundoff.png" width="40" height="40" border="0" /></div>
	</div>
  </div>
  <!--作为游戏设置的卡通动物图案-->
  <div id="Bjing"><img src="images/Bjing.png" width="185" height="140" border="0" /></div>
</div>
</body>
</html>
