<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<style>
#main{width:800px;height:580px;margin:0px auto;border:#999 solid 1px;}
#anim{width:100%;height:500px;border-bottom:#999 solid 1px;background:#eee;position:relative}
#bottom{width:100%;height:79px;background:#ddd}
.style{position:absolute;top:-40px; text-indent:0px;font-family:Arial;font-size:2px;color:#EDF6F1}
.style img{float:left}
span{font-size:12px;font-size:36px;font-weight:bold;color:red}
</style>
<title>无标题文档</title>
<script src="js/myAnimate.js" type="text/javascript"></script>
<script src="js/Myfunction.js" type="text/javascript"></script>
<script type="text/javascript">
//position:absolute;
	window.onload=function () {
		var main = document.getElementById("main");
		var anim = document.getElementById("anim");
		var qq = document.getElementById("qq");
		var ww = document.getElementById("ww");
		var onOff = true;
		var key;
		var integral=0;
		var num = 14;
		var arr1 = Array();	
		var wer =100;
			

var arr = ["a<img src='images/A_Z/A.png'/>","b<img src='images/A_Z/B.png'/>","c<img src='images/A_Z/C.png'/>","d<img src='images/A_Z/D.png'/>","e<img src='images/A_Z/E.png'/>","f<img src='images/A_Z/F.png'/>","g<img src='images/A_Z/G.png'/>","h<img src='images/A_Z/H.png'/>","i<img src='images/A_Z/I.png'/>","j<img src='images/A_Z/J.png'/>","k<img src='images/A_Z/K.png'/>","l<img src='images/A_Z/L.png'/>","m<img src='images/A_Z/M.png'/>","n<img src='images/A_Z/N.png'/>","o<img src='images/A_Z/O.png'/>","p<img src='images/A_Z/P.png'/>","q<img src='images/A_Z/Q.png'/>","r<img src='images/A_Z/R.png'/>","s<img src='images/A_Z/S.png'/>","t<img src='images/A_Z/T.png'/>","u<img src='images/A_Z/U.png'/>","v<img src='images/A_Z/V.png'/>","w<img src='images/A_Z/W.png'/>","x<img src='images/A_Z/X.png'/>","y<img src='images/A_Z/Y.png'/>","z<img src='images/A_Z/Z.png'/>"]
		//随机出maxNum范围的一个整数
		function getRandom(maxNum) {
			var Random = parseInt(Math.random()*maxNum);
			return Random;
		}
		//创建一个div 并 innerHTML 随机给定一个值
		function create() {
			var div = document.createElement("div");
			div.className="style";
			div.innerHTML=arr[getRandom(26)];
			css(div,"left",getRandom(780));
			//css(div,"top",getRandom(30));
			//向下移动函数 //动画函数在 myAnimate.js
			myAnim(div,{top:465},num,function () {
				anim.removeChild(div);
				onOff=false;
				if(!onOff){
					append(anim)
				}
				wer-=2;
				ww.innerHTML = wer
				if(wer < 80){
				 alert("您输了")
				}
			});

			return div;
		}
		
		function downstream (divObj) {
		
		}
		//将创建的div 插入页面中
		function append(Parent,number) {
			if(number){
				for (var i=0; i<number; i++) {
					Parent.appendChild(create());
				}
			}else{
				Parent.appendChild(create());
			}
		}
		

			append(anim,6)
      

	var nodes = getClass("style");

		//监听键盘事件
		document.onkeyup=function (e) {
			var ev = e || window.event
			var keys = ev.keyCode;
			
			keyboard(keys)
		}
		function  keyboard(codes) {
			var nodes = anim.childNodes;
	        //alert(nodes[0].firstChild.nodeValue.charCodeAt())
			for (var i=0; i<nodes.length; i++) {
				(function (i) {
					if (codes == (nodes[i].firstChild.nodeValue.charCodeAt())-32) {
						anim.removeChild(nodes[i]);
						clearInterval(this.time);
						 append(anim);

						 integral+=2;
						 qq.innerHTML=integral;
						 //过关加速****************************
						 document.title=integral
						 if(integral == 30){
							//hhh ()
							for (var a=0; a<nodes.length; a++) {
							nodes[a].style.display="none"
							}
						    alert("进入下一关")
							num=10
							append(anim,6)
						 }
						
					}
				})(i)
			}
			
		}
	
		

		//暂停动画
	
		anim.onclick=function kkk () {
						
						for (var a=0; a<nodes.length; a++) {
							nodes[a].style.display="none"
						}
					}
			function hhh () {
			alert("hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh")
						for (var a=0; a<nodes.length; a++) {
							nodes[a].style.display="none"
						}
			}
	
//
//		bottom.onclick=function  () {
//				append(anim,6)
//						
//				}	
  }
</script>
</head>

<body>
<div id="main">
  <div id="anim"></div>
  <div id="bottom">
	您当前的分数<span id="qq">0</span>&nbsp&nbsp&nbsp&nbsp
	您还有<span id="ww">100</span>生命
	<form action="" method="get" name="myform">
  		<select name="dd">
		  <option>1</option>  
		  <option>2</option> 
		  <option>3</option> 
		  <option>4</option> 
		  <option>5</option> 
		  <option>6</option> 
		</select>
	</form>
  <div>
</div>
</body>
</html>
